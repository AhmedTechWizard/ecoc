<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Food Waste Management - EcoConnect</title>
  <link rel="stylesheet" href="food-waste-style.css">
</head>
<body>
  <header>
    <nav>
      <h1>EcoConnect</h1>
      <ul>
        <li><a href="#donor-module">Donor Module</a></li>
        <li><a href="dashboard.html">Back to Dashboard</a></li>
      </ul>
    </nav>
  </header>
  <main>
    <section id="donor-module">
      <h2>Donor Module</h2>
      <p>Upload descriptions and images of available food items.</p>
      <form id="donor-form">
        <input type="text" name="food_name" placeholder="Food Name" required><br>
        <input type="text" name="description" placeholder="Description"><br>
        <input type="file" name="food_image" accept="image/*" required><br>
        <button type="submit">Donate Food</button>
      </form>
    </section>
    <!-- ... Receiver Module section remains unchanged ... -->
  </main>

  <script>
    // Frontend JavaScript to handle form submission
    const form = document.getElementById('donor-form');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      const formData = new FormData(form);

      try {
        const response = await fetch('/donate', {
          method: 'POST',
          body: formData,
        });

        if (response.ok) {
          const adData = await response.json();
          // Use adData to display the newly uploaded ad in all ads section
          displayAd(adData);
        }
      } catch (error) {
        console.error('Error donating food:', error);
      }
    });

    // Function to display the uploaded ad in all ads section
    function displayAd(adData) {
      // Code to display the ad in all ads section goes here
    }
  </script>
</body>
</html>
